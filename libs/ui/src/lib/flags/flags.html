<div class="flags-wrapper flex items-center gap-1.5 min-w-0">
  <span class="flags-img-wrap shrink-0 flex items-center justify-center relative" [title]="countryName" [attr.aria-label]="countryName || 'Country flag'">
    @if (loading) {
      <span class="flags-skeleton" aria-hidden="true"></span>
    } @else if (urlFlag) {
      @if (!imageLoaded && !imageError) {
        <span class="flags-skeleton flags-skeleton-overlay" aria-hidden="true"></span>
      }
      <img
        [src]="urlFlag"
        [alt]="countryName || 'Flag'"
        loading="lazy"
        (load)="onFlagImageLoad()"
        (error)="onFlagImageError()"
        class="flags-img" />
    }
    @if (showPlaceholder && !loading) {
      <span class="flags-placeholder" aria-hidden="true">?</span>
    }
  </span>
  @if (countryName) {
    <span class="flags-name truncate">{{ countryName }}</span>
  }
</div>
